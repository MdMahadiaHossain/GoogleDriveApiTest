
How OAuth2 works-
if we use this code we will need refresh "code" query value each time we want to get access token

     def googleDriveAuthorise : Action[AnyContent] = Action.apply{
    val toBeRedirected ="http://localhost:9000/getToken"
    val urlForRedirect = new GoogleBrowserClientRequestUrl("936895095166-02fgacesb9qb0vogu24t8d9o6ta70i5v.apps.googleusercontent.com",
      toBeRedirected, util.Arrays.asList(
        "https://www.googleapis.com/auth/plus.login",
        "https://www.googleapis.com/auth/drive"
      )).set("access_type", "offline").set("response_type", "code").build()

    Redirect(urlForRedirect)
  }
  
  
  process will work like- - - - - - - - - - >
  
1. we from our app
              redirects to the targeted web's (google) authorization link with "api id", "intended access scope" , etc-
              https://accounts.google.com/signin/oauth/oauthchooseaccount?client_id="client_id here"&as="hash created by sdk"&nosignup=1&destination=http%3A%2F%2Flocalhost%3A9000&approval_state=!ChQxaF9PX2hTZktfc0ZpU3prdTBjcBIfSTJpRS1LcnlzRTRkOEhuU1JuY2dubXF1c3c2dll4WQ%E2%88%99ANKMe1QAAAAAW7ZLl21Ry3b86HnaMcZq5uGKVTE3xBim&oauthgdpr=1&xsrfsig=AHgIfE8YIIbQsMnStKXIdMYTCNlTrkT3iw&flowName=GeneralOAuthFlow

2. So we are now in google web all responsiblity now to the google.

3. google form his server  with some "query value" will redirect to the redirected link we set to our code after we authorise by clicking and login our google account

4. now we will be in our own app with "code" query value
              http://localhost:9000/getToken?code="generated by google web"&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.profile.agerange.read+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.profile.language.read+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.me+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile
              
              
              
              
              




if we use this code we need not to get refresh "code" query value each time to get "access token"

    def googleDriveAuthorise : Action[AnyContent] = Action.apply{
    val toBeRedirected ="http://localhost:9000/getToken"
    val urlForRedirect = new GoogleBrowserClientRequestUrl("936895095166-02fgacesb9qb0vogu24t8d9o6ta70i5v.apps.googleusercontent.com",
      toBeRedirected, util.Arrays.asList(
        "https://www.googleapis.com/auth/plus.login",
        "https://www.googleapis.com/auth/drive"
      )).setState("/profile").build()

    Redirect(urlForRedirect)
  }
  
  1. we from our app
              redirects to the targeted web's (google) authorization link with "api id", "intended access scope" , etc-


https://accounts.google.com/signin/v2/challenge/pwd?client_id="client_id here"&as=GmzBc-xMryzFWZq-WrUBiw&nosignup=1&destination=http%3A%2F%2Flocalhost%3A9000&approval_state=!ChRrYWxWNTk0Zm5VM1pkYXo1NnAyNRIfODJwOHlNOWxiT2dlOEhuU1JuY2dubXItQ0x5d1l4WQ%E2%88%99ANKMe1QAAAAAW7ZSdQdBor4eCbRCXpvTDVfb8POKs3AQ&oauthgdpr=1&xsrfsig=AHgIfE-42WrGT-j-g5VkKjW-I6Y4042Tnw&flowName=GeneralOAuthFlow&TL=AHnYQLxLmdaX7Vzwc5yJXyiOfUo82WzRTUNmhdSC9_QpogB_0beqPE5rGeuVFLT-6bvJX6AN71Z3JzwFC7CzvqEJ5NrLXrMf1vIYs9uYDgwknBOFyfd3qmnbRqgFKGuu7pfHRdoizWhyAFpk3abt4AcCstbY6ySl1WIWRbCAAnyU205qKrXskaA&cid=1&navigationDirection=forward

2. So we are now in google web all responsiblity now to the google.










http://localhost:9000/getToken#state=/profile&access_token="generated by google web"&token_type=Bearer&expires_in=3600&scope=https://www.googleapis.com/auth/userinfo.profile%20https://www.googleapis.com/auth/plus.me%20https://www.googleapis.com/auth/drive%20https://www.googleapis.com/auth/plus.profile.language.read%20https://www.googleapis.com/auth/plus.profile.agerange.read
